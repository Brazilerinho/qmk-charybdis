// Copyright 2023 QMK
// SPDX-License-Identifier: GPL-2.0-or-later

#include QMK_KEYBOARD_H

typedef enum {
    TD_NONE,
    TD_UNKNOWN,
    TD_SINGLE_TAP,
    TD_SINGLE_HOLD,
    TD_DOUBLE_TAP,
    TD_DOUBLE_HOLD,
    TD_DOUBLE_SINGLE_TAP, // Send two single taps 
} td_state_t;

typedef struct {
    bool is_press_action;
    td_state_t state;
} td_tap_t;

// Tap dance enums
enum {
    ADV_CTRL,
    SCUTS,
	ADV_LEFT,
    ADV_WIN
};

td_state_t cur_dance(tap_dance_state_t *state);

// For the x tap dance. Put it here so it can be used in any keymap
void ctrl_finished(tap_dance_state_t *state, void *user_data);
void ctrl_reset(tap_dance_state_t *state, void *user_data); 
void scuts_finished(tap_dance_state_t *state, void *user_data);
void scuts_reset(tap_dance_state_t *state, void *user_data);
void left_finished(tap_dance_state_t *state, void *user_data);
void left_reset(tap_dance_state_t *state, void *user_data);
void win_finished(tap_dance_state_t *state, void *user_data);
void win_reset(tap_dance_state_t *state, void *user_data); 

//const key_override_t delete_key_override = ko_make_basic(MOD_MASK_SHIFT, KC_BSPC, KC_DEL);

// This globally defines all key overrides to be used
// const key_override_t **key_overrides = (const key_override_t *[]){
//     &delete_key_override,
//     NULL // Null terminate the array of overrides!
// };

enum custom_keycodes {
    DRAG_SCROLL = QK_KB_0,
    ARROW_H,
    ARROW_V,
    ARROW_ALL, 
    AM_TOGGLE,
    SNIP_MODE,
    SNIP_TOGGLE,
    CPI_INC,
    CPI_DEC,
    SNIP_INC,
    SNIP_DEC,
    CK_LSQB,
    CK_RSQB,
    CK_LTHN,
    CK_GTHN,
    CK_LCUR,
    CK_RCUR,
    ALT_TAB,
    R_ALT_TAB,
    COL_EQ
};

enum unicode_names {
    LSQB,
    RSQB,
    LTHN,
    GTHN,
    LCUR,
    RCUR
};

const uint32_t PROGMEM unicode_map[] = {
    [LSQB] = 0x005B,  // [
    [RSQB] = 0x005D,  // ]
    [LTHN] = 0x003C,  // <
    [GTHN] = 0x003E,  // >
    [LCUR] = 0x007B,  // {    
    [RCUR] = 0x007D  // }
};

enum layer_names {
    _BASE = 0,
    _LEFT,
    _RIGHT,
    _GAME,
    _SCUTS,
    _L05,
    _L06,
    _L07,
    _L08,
    _L09,
    _L10,
    _L11,
    _L12,
    _L13,
    _L14,
    _MOUSE_
};

#define SP_LSFT SFT_T(KC_SPC)
#define ENT_RGT LT(2, KC_ENT)
#define UNI_LBR UP(LSQB, LCUR)
#define UNI_RBR UP(RSQB, RCUR)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     `     │     1     │     2     │     3     │     4     │     5     │             │     6     │     7     │     8     │     9     │     0     │     -     │*/
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │     Q     │     W     │     E     │     R     │     T     │             │     Y     │     U     │     I     │     O     │     P     │     [     │*/
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    ESC    │     A     │     S     │     D     │     F     │     G     │             │     H     │     J     │     K     │     L     │     ;     │     '     │*/
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │  L_MOUSE  │     Z     │     X     │     C     │     V     │     B     │             │     N     │     M     │     ,     │     .     │     /     │     ]     │*/
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │    L01    │  SPC/SHF  │ CTRL+SHFT │   │  ENT/L02  │   BKSPC   │                                                     */
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │   LCTRL   │    ALT    │   │  MENU/WIN │                                                                 */
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */

    [_BASE] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     `     │     1     │     2     │     3     │     4     │     5     │             │     6     │     7     │     8     │     9     │     0     │     -     │*/  
       LT(5, KC_GRV),  KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                     KC_6,       KC_7,       KC_8,       KC_9,       KC_0,      KC_MINS,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │     Q     │     W     │     E     │     R     │     T     │             │     Y     │     U     │     I     │     O     │     P     │     [     │*/        
          KC_TAB,      KC_Q,       KC_W,       KC_E,       KC_R,       KC_T,                     KC_Y,       KC_U,       KC_I,       KC_O,       KC_P,      KC_LBRC,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    ESC    │     A     │     S     │     D     │     F     │     G     │             │     H     │     J     │     K     │     L     │     ;     │     '     │*/
          KC_ESC,       KC_A,       KC_S,       KC_D,       KC_F,       KC_G,                     KC_H,       KC_J,       KC_K,       KC_L,      KC_SCLN,    KC_QUOT,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    CTRL   │     Z     │     X     │     C     │     V     │     B     │             │     N     │     M     │     ,     │     .     │     /     │   ]/ALT   │*/
          KC_LCTL,     KC_Z,       KC_X,       KC_C,       KC_V,       KC_B,                     KC_N,       KC_M,      KC_COMM,    KC_DOT,    KC_SLASH, ALT_T(KC_RBRC),
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │    LEFT   │ SPC/SHIFT │ MOUSE LEFT│   │ ENT/RIGHT │   BKSPC   │                                                     */
                                                  MO(_LEFT),   SP_LSFT,    KC_BTN1,        ENT_RGT,    KC_BSPC,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │ BTN3/SCUTS│MOUSE RIGHT│   │  MENU/WIN │                                                                 */
                                                             TD(SCUTS),    KC_BTN2,      TD(ADV_WIN)
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),

    [_LEFT] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │    ESC    │     F1    │     F2    │     F3    │     F4    │     F5    │             │     F6    │     F7    │     F8    │     F9    │    F10    │    F11    │*/ 
          KC_ESC,       KC_F1,      KC_F2,      KC_F3,      KC_F4,      KC_F5,                   KC_F6,      KC_F7,      KC_F8,      KC_F9,      KC_F10,     KC_F11,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    CUT    │     |     │     (     │     +     │     )     │ CTRL+SHFT │             │    PGUP   │    HOME   │     UP    │    END    │           │    F12    │*/ 
          C(KC_X),  S(KC_BSLS),   S(KC_9),    KC_PPLS,    S(KC_0),  C(KC_LSFT),                 KC_PGUP,    KC_HOME,     KC_UP,      KC_END,     KC_NO,      KC_F12,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    COPY   │     \     │   UNI [   │     =     │   UNI ]   │    CTRL   │             │    PGDN   │    LEFT   │    DOWN   │   RIGHT   │           │           │*/
          C(KC_C),    KC_BSLS,    KC_LBRC,    KC_EQL,     KC_RBRC,    KC_LCTL,                  KC_PGDN,    KC_LEFT,    KC_DOWN,    KC_RGHT,     KC_NO,      KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │   PASTE   │    UNDO   │   UNI <   │     -     │   UNI >   │   SHIFT   │             │     :=    │ SHFT+LEFT │           │SHIFT+RIGHT│           │           │*/       
          C(KC_V),    C(KC_Z),  S(KC_COMM),   KC_PMNS,   S(KC_DOT),   KC_LSFT,                  COL_EQ,   C(KC_LEFT),    KC_NO,   C(KC_RGHT),    KC_NO,      KC_NO,
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │   BKSPC   │  VOLUME+  │   │ CTRL+SPACE│   BKSPC   │                                                     */
                                                   _______,    KC_BSPC,    KC_VOLU,       C(KC_SPC),   KC_BSPC,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                   */
    /*                                                      │    MUTE   │  VOLUME-  │   │ CTRL+SPACE│                                                                 */
                                                               KC_MUTE,    KC_VOLD,       C(KC_SPC)
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */                                                               
    ),
    [_RIGHT] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │    ESC    │     1     │     2     │     3     │     4     │     5     │             │   NUM +   │   NUM 7   │   NUM 8   │   NUM 9   │  NUM LOCK │   DEBUG   │*/
          KC_ESC,      KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                    KC_PPLS,     KC_P7,      KC_P8,      KC_P9,     KC_NUM,     DB_TOGG ,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │     6     │     7     │     8     │     9     │     0     │             │    PGUP   │    HOME   │     UP    │    END    │           │           │*/
          KC_TAB,      KC_6,       KC_7,       KC_8,       KC_9,       KC_0,                    KC_PGUP,    KC_HOME,      KC_UP,     KC_END,      KC_NO,      KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    ESC    │     1     │     2     │     3     │     4     │     5     │             │    PGDN   │    LEFT   │    DOWN   │   RIGHT   │ NUM ENTER │           │*/
          KC_ESC,      KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                    KC_PGDN,    KC_LEFT,    KC_DOWN,    KC_RGHT,    KC_PENT,     KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ RGB TOGGLE│     6     │     7     │     8     │     9     │     0     │             │      _    │   NUM 0   │   NUM 0   │   NUM .   │ NUM ENTER │           │*/
          RGB_TOG,     KC_6,       KC_7,       KC_8,       KC_9,       KC_0,                  S(KC_MINS),    KC_P0,      KC_P0,     KC_PDOT,    KC_PENT,     KC_NO,
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │   SHIFT   │   SPACE   │    DEL    │   │     ˅     │    DEL    │                                                     */
                                                  KC_LSFT,     KC_SPC,     KC_DEL,         _______,     KC_DEL,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │   LCTRL   │    ALT    │   │   ENTER   │                                                                 */
                                                               KC_LCTL,    KC_LALT,         KC_ENT
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */

    ),
    [_GAME] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │    ESC    │     1     │     2     │     3     │     4     │     5     │             │     6     │     7     │     8     │     9     │     0     │  VOLUME+  │*/
          KC_ESC,      KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                     KC_6,       KC_7,       KC_8,       KC_9,       KC_0,      KC_VOLU,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │    TAB    │     Q     │     W     │     E     │     R     │             │     F1    │    HOME   │     UP    │    END    │     F9    │  VOLUME-  │*/
          KC_TAB,     KC_TAB,      KC_Q,       KC_W,       KC_E,       KC_R,                     KC_F1,     KC_HOME,     KC_UP,      KC_END,     KC_F9,     KC_VOLD,        
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │      H    │   SHIFT   │     A     │     S     │     D     │     F     │             │     F2    │    LEFT   │    DOWN   │   RIGHT   │     F8    │    F10    │*/
            KC_H,     KC_LSFT,     KC_A,       KC_S,       KC_D,       KC_F,                     KC_F2,     KC_LEFT,    KC_DOWN,    KC_RGHT,     KC_F8,      KC_F10,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │      N    │    CTRL   │     Z     │     X     │     C     │     V     │             │     F3    │     F4    │     F5    │     F6    │     F7    │  TOG GAME │*/
            KC_N,     KC_LCTL,     KC_Z,       KC_X,       KC_C,       KC_V,                     KC_F3,      KC_F4,      KC_F5,      KC_F6,      KC_F7,    TG(_GAME),
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │    ALT    │   SPACE   │     G     │   │   ENTER   │   BKSPC   │                                                     */
                                                   KC_LALT,    KC_SPC,      KC_G,          KC_ENT,     KC_BSPC,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │      T    │     B     │   │ WIN+CTRL+V│                                                                 */
                                                                 KC_T,      KC_B,         C(G(KC_V))
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    
    ),
    [_SCUTS] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │    GAME   │    L05    │     ˅     │     ˅     │     ˅     │           │*/
          _______,    _______,    _______,    _______,    _______,    _______,                 TG(_GAME),  TG(_L05),    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │  ALT+TAB  │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │ CTRL+SH+UP│     ˅     │     ˅     │     ˅     │*/
          ALT_TAB,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,  RCS(KC_UP),   _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ S+ALT+TAB │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │CTRL+SH+DWN│     ˅     │     ˅     │     ˅     │*/         
         R_ALT_TAB,   _______,    _______,    _______,    _______,  LALT(KC_G),                 _______,    _______, RCS(KC_DOWN),  _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │ CTRL+SH+C │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │ TOG SCUTS │*/
         LSG(KC_S),   _______,    _______,   RCS(KC_C),   _______,    _______,                  _______,    _______,    _______,    _______,    _______,  TG(_SCUTS),
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │    DEL    │                                                     */
                                                   _______,    _______,    _______,        _______,    KC_DEL,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │ MOUSE MID │   │     ˅     │                                                                 */
                                                               _______,    KC_BTN3,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L05] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │  BRIGHT+  │    SAT+   │   COLOR+  │   SPEED+  │ RGB MODE+ │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    RGB_VAI,    RGB_SAI,    RGB_HUI,    RGB_SPI,    RGB_MOD,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │  BRIGHT-  │    SAT-   │   COLOR-  │   SPEED-  │ RGB MODE- │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    RGB_VAD,    RGB_SAD,    RGB_HUD,    RGB_SPD,   RGB_RMOD,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L05  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L05), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │SCR BRIGHT+│   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    KC_BRIU,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │SCR BRIGHT-│   │     ˅     │                                                                 */
                                                               _______,    KC_BRID,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L06] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L06  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L06), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L07] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L07  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L07), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L08] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L08  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L08), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L09] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L09  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L09), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L10] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L10  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L10), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L11] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L11  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L11), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L12] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L12  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L12), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L13] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L13  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L13), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L14] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L14  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L14), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [15] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │  SNIPER+  │    CPI+   │             │ TOG GAME  │  TOG L05  │  TOG L06  │  TOG L07  │  TOG L08  │     ˅     │*/
          _______,    _______,    _______,    _______,   SNIP_INC,    CPI_INC,                 TG(_GAME),  TG(_L05),   TG(_L06),   TG(_L07),   TG(_L08),    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │  SNIPER-  │    CPI-   │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,   SNIP_DEC,    CPI_DEC,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ TOG SNIPER│     ˅     │    CTRL   │   SHIFT   │   ARROW   │     ˅     │             │     ˅     │ MOUSE LEFT│MOUSE RIGHT│ MOUSE MID │   SCROLL  │     ˅     │*/         
        SNIP_TOGGLE,  _______,    KC_LCTL,    KC_LSFT,   ARROW_ALL,   _______,                  _______,    KC_BTN1,    KC_BTN2,    KC_BTN3,  DRAG_SCROLL,  _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ SNIPER ON │     ˅     │     ˅     │     ˅     │ HOR ARROW │ VER ARROW │             │     ˅     │ MOUSE LEFT│MOUSE RIGHT│ MOUSE MID │   SCROLL  │   SCROLL  │*/
         SNIP_MODE,   _______,    _______,    _______,    ARROW_H,    ARROW_V,                  _______,    KC_BTN1,    KC_BTN2,    KC_BTN3,  DRAG_SCROLL,DRAG_SCROLL, 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │   SCROLL  │ MOUSE LEFT│MOUSE RIGHT│   │     ˅     │    DEL    │                                                     */
                                                 DRAG_SCROLL,  KC_BTN1,    KC_BTN2,        _______,    KC_DEL,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │    CTRL   │ MOUSE MID │   │ AUTO MOUSE│                                                                 */
                                                               KC_LCTL,    KC_BTN3,       AM_TOGGLE
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
};

bool scroll_mode = false;
bool hor_arrow_mode = false;
bool ver_arrow_mode = false;
bool all_arrow_mode = false;
bool sniper_mode = false;
bool auto_mouse_set = true;
bool auto_mouse_force_disabled = false;
bool auto_mouse = true;
bool is_alt_tab_active = false;

uint16_t alt_tab_timer = 0;

// Modify these values to adjust the scrolling speed
#define SCROLL_DIVISOR_H 64.0
#define SCROLL_DIVISOR_V 64.0
#define ARROW_TRIGGER_H 400
#define ARROW_TRIGGER_V 1600
#define ALT_TAB_LIMIT 1000
 
// Variables to store accumulated scroll values
float scroll_accum_h = 0;
float scroll_accum_v = 0;
int16_t arrow_accum_h = 0;
int16_t arrow_accum_v = 0;

uint16_t curr_cpi = 20;
uint16_t snip_cpi = 10;

void set_current_cpi(void) {
    //uint16_t real_cpi = 100 * curr_cpi;
    //if (pointing_device_get_cpi() != curr_cpi)
    //    pointing_device_set_cpi(real_cpi);
}

void set_sniper_cpi(void) {
    //uint16_t sni_cpi = 100 * snip_cpi;
    //if (pointing_device_get_cpi() != sni_cpi)
    //    pointing_device_set_cpi(sni_cpi);
}

void set_common_cpi(void) {
    // if (sniper_mode) 
    //     set_sniper_cpi();  
    // else
    //     set_current_cpi();
}

void activate_hor_arrow_mode(void) {
    //pointing_device_set_cpi(2000);
    hor_arrow_mode = true;
}

void deactivate_hor_arrow_mode(void) {
    set_common_cpi();
    hor_arrow_mode = false;
    arrow_accum_h = 0;
}

void activate_ver_arrow_mode(void) {
    // pointing_device_set_cpi(2000);
    ver_arrow_mode = true;
}

void deactivate_ver_arrow_mode(void) {
    set_common_cpi();
    ver_arrow_mode = false;
    arrow_accum_v = 0;
}

void activate_all_arrow_mode(void) {
    //pointing_device_set_cpi(2000);
    all_arrow_mode = true;
    uprint("Arrow mode activated\n");
}

void deactivate_all_arrow_mode(void) {
    set_common_cpi();
    all_arrow_mode = false;
    arrow_accum_h = 0;
    arrow_accum_v = 0;
    uprint("Arrow mode deactivated\n");
}

void activate_scroll_mode(void) {
    //pointing_device_set_cpi(1000);
    scroll_mode = true;
    uprint("Scroll mode activated\n");
}

void deactivate_scroll_mode(void) {
    set_common_cpi();
    scroll_mode = false;
    uprint("Scroll mode deactivated\n");
}
 
void auto_mouse_off(void) {
    auto_mouse_layer_off(); // disable target layer if needed
    set_auto_mouse_enable(false );
    auto_mouse = false;
}

void auto_mouse_on(void) {
    set_auto_mouse_enable(true);
    auto_mouse = true;
}

void handle_drag_scroll(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!scroll_mode)
            activate_scroll_mode();
    } 
    else 
        deactivate_scroll_mode();
}

void handle_hor_arrow(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!hor_arrow_mode) 
            activate_hor_arrow_mode();
    } 
    else
        deactivate_hor_arrow_mode();  
}

void handle_ver_arrow(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!ver_arrow_mode)
            activate_ver_arrow_mode();
    } 
    else 
        deactivate_ver_arrow_mode();
}

void handle_all_arrow(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!all_arrow_mode) 
            activate_all_arrow_mode();
    }
    else
        deactivate_all_arrow_mode();
}

void handle_sniper_mode(keyrecord_t *record) {
    if (record->event.pressed) {
        sniper_mode = true;
        set_common_cpi();
    } else {
        sniper_mode = false;
        set_common_cpi();
    }
}

void handle_sniper_toggle(keyrecord_t *record) {
    if (record->event.pressed) {
        sniper_mode = !sniper_mode;
        set_common_cpi();
    }
}

void handle_increase_mouse_speed(void) {
    curr_cpi += 2;
    if (curr_cpi > 120)
        curr_cpi = 120;
    set_common_cpi();
}

void handle_decrease_mouse_speed(void) {
    curr_cpi -= 2;
    if (curr_cpi < 2)
        curr_cpi = 2;
    if (snip_cpi > curr_cpi)
        snip_cpi = curr_cpi;
    set_common_cpi();
}

void handle_increase_sniper_speed(void) {
    snip_cpi += 1;
    if (snip_cpi > curr_cpi)
        snip_cpi = curr_cpi;
    set_common_cpi();
}

void handle_decrease_sniper_speed(void) {
    snip_cpi -= 1;
    if (snip_cpi < 2)
        snip_cpi = 2;
    set_common_cpi();
}

void handle_force_scroll_mode(keyrecord_t *record) {
    if (record->event.pressed) {
        auto_mouse_force_disabled = true;
        auto_mouse_off();
        activate_scroll_mode(); 
    } else {
        auto_mouse_force_disabled = false;
        if (auto_mouse_set) 
            auto_mouse_on();
        deactivate_scroll_mode();
    }  
}

void handle_force_arrow_mode(keyrecord_t *record) {
    if (record->event.pressed) {
        auto_mouse_force_disabled = true;
        auto_mouse_off();
        activate_all_arrow_mode(); 
    } else {
        auto_mouse_force_disabled = false;
        if (auto_mouse_set) 
            auto_mouse_on();
        deactivate_all_arrow_mode();
    } 
}

void handle_auto_mouse_toggle(void) {
    auto_mouse_set = !auto_mouse_set;

    if (auto_mouse_force_disabled) 
        return;

    if (auto_mouse_set) 
        auto_mouse_on();
    else
        auto_mouse_off();

}

int16_t move_horizontally(int16_t accum) {
    int16_t offset = accum;

    while (offset >= ARROW_TRIGGER_H)
    {
        offset -= ARROW_TRIGGER_H;
        tap_code(KC_RGHT);
    }

    while (offset <= -ARROW_TRIGGER_H)
    {
        offset += ARROW_TRIGGER_H;
        tap_code(KC_LEFT);
    }

    return offset;    
} 

int16_t move_vertically(int16_t accum) {
    int16_t m_offset = accum;

    while (m_offset >= ARROW_TRIGGER_V)
    {
        m_offset -=  ARROW_TRIGGER_V;
        tap_code(KC_DOWN);
    }

    while (m_offset <= -ARROW_TRIGGER_V) 
    {
        m_offset += ARROW_TRIGGER_V;
        tap_code(KC_UP);
    }

    return m_offset;   
}

bool handle_alt_tab (keyrecord_t *record) {
    if (record->event.pressed) {
        if (!is_alt_tab_active) {
            is_alt_tab_active = true;
            register_code(KC_LALT);
        }
        alt_tab_timer = timer_read();
        register_code(KC_TAB);
    } else {
        unregister_code(KC_TAB);
    }
    return true;
}

bool handle_reverse_alt_tab(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!is_alt_tab_active) {
            is_alt_tab_active = true;
            register_code(KC_LALT);
        }
        alt_tab_timer = timer_read();
        register_code(KC_LSFT);
        register_code(KC_TAB);
    } else {
        unregister_code(KC_TAB);
        unregister_code(KC_LSFT);
    }
    return true;
}

// Function to handle mouse reports and perform drag scrolling
report_mouse_t pointing_device_task_user(report_mouse_t mouse_report) {
    // Check if drag scrolling is active
    if (scroll_mode) {
        // Calculate and accumulate scroll values based on mouse movement and divisors
        //scroll_accum_h += (float)mouse_report.x / SCROLL_DIVISOR_H;
        scroll_accum_v += (float)mouse_report.y / SCROLL_DIVISOR_V;

        // Assign integer parts of accumulated scroll values to the mouse report
        //mouse_report.h = -(int8_t)scroll_accum_h;
        mouse_report.v = (int8_t)scroll_accum_v;

        // Update accumulated scroll values by subtracting the integer parts
        // scroll_accum_h += (int8_t)scroll_accum_h;
        scroll_accum_v -= (int8_t)scroll_accum_v;

        // Clear the X and Y values of the mouse report
        mouse_report.x = 0;
        mouse_report.y = 0;
    };
    if (hor_arrow_mode) {
        
        arrow_accum_h += mouse_report.x;

        arrow_accum_h = move_horizontally(arrow_accum_h);

        mouse_report.x = 0;
        mouse_report.y = 0;
    };
    
    if (ver_arrow_mode) {
        arrow_accum_v += mouse_report.y;
        
        arrow_accum_v = move_vertically(arrow_accum_v);
        
        mouse_report.x = 0;
        mouse_report.y = 0;
    }
    
    if (all_arrow_mode) {
        arrow_accum_h += mouse_report.x;
        arrow_accum_v += mouse_report.y;

        arrow_accum_h = move_horizontally(arrow_accum_h);
        arrow_accum_v = move_vertically(arrow_accum_v);
        
        mouse_report.x = 0;
        mouse_report.y = 0;
    }
    return mouse_report;
}

// Function to handle key events and enable/disable drag scrolling
bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    if (record->event.key.col == 3 && record->event.key.row == 4) 
        handle_force_scroll_mode(record);
    
    //if (record->event.key.col == 5 && record->event.key.row == 4)
    //    handle_force_arrow_mode(record);

    switch (keycode) {
        case SNIP_MODE:
            handle_sniper_mode(record);
            return false;
        case SNIP_TOGGLE:
            handle_sniper_toggle(record);
            return false;
        case DRAG_SCROLL:
            // Toggle set_scrolling when DRAG_SCROLL key is pressed or released
            handle_drag_scroll(record);
            break;
        case ARROW_H:
            handle_hor_arrow(record);
            break;
        case ARROW_V:
            handle_ver_arrow(record);
            break;
        case ARROW_ALL:
            all_arrow_mode = record->event.pressed;
            break;
        case AM_TOGGLE:
            if (record->event.pressed)
                handle_auto_mouse_toggle();
            return false; // prevent further processing of keycode
        case CPI_INC:
            if (record->event.pressed) 
                handle_increase_mouse_speed();
            break;
        case CPI_DEC:
            if (record->event.pressed)
                handle_decrease_mouse_speed();
            break;
        case CK_LSQB:
            if (!record->event.pressed)
                tap_code16(LSQB);
            break;
        case CK_RSQB:
            if (!record->event.pressed)
                tap_code16(RSQB);
            break;
        case CK_LTHN:
            if (!record->event.pressed)
                tap_code16(LTHN);
            break;
        case CK_GTHN:
            if (!record->event.pressed)
                tap_code16(GTHN);
            break;
        case CK_LCUR:
            if (!record->event.pressed)
                tap_code16(LCUR);
            break;
        case CK_RCUR:
            if (!record->event.pressed)
                tap_code16(RCUR);
            break;
        case ALT_TAB:
            return handle_alt_tab(record);
        case R_ALT_TAB:
            return handle_reverse_alt_tab(record);
        case COL_EQ:
            if (record->event.pressed)
                SEND_STRING(":= ");
            return false;
        default:
            break;
    }
    return true;
}

layer_state_t layer_state_set_user(layer_state_t state) {
    switch (get_highest_layer(state)) {
        case 1:  // If we're on the left layer enable scrolling mode
            // dprint("Layer 1 is highest");
            // if (!scroll_mode)
            //     activate_scroll_mode();
            // if (auto_mouse_tg_on) {
            //     state = remove_auto_mouse_layer(state, false);
            //     set_auto_mouse_enable(false); 
            //     auto_mouse_tg_on = false;
            //     auto_mouse_off_by_layer = true;
            // }
            //auto_mouse_off_by_layer = true;
            break;
        case 15:
            break;
        default:
            // if (scroll_mode)
            //     deactivate_scroll_mode();
            // if (auto_mouse_off_by_layer) {
            //     set_auto_mouse_enable(true);
            //     auto_mouse_tg_on = true;
            //     auto_mouse_off_by_layer = false;
            // }
            break;
    }
    return state;
}

void pointing_device_init_user(void) {
    set_auto_mouse_enable(auto_mouse_set);
    set_current_cpi();
}

bool is_mouse_record_user(uint16_t keycode, keyrecord_t* record) {
    switch(keycode) {
        case DRAG_SCROLL:
            return true;
        case ARROW_H:
            return true;
        case ARROW_V:
            return true;
        case ARROW_ALL:
            return true;
        case SNIP_MODE:
            return true;
        case CPI_INC:
            return true;
        case CPI_DEC:
            return true;
        default:
            return false;
    }
    return false;
}

bool rgb_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max) {

    uint8_t bright = rgb_matrix_get_val();

    if (!auto_mouse)
        RGB_MATRIX_INDICATOR_SET_COLOR(31, bright, 0, 0);

    if (sniper_mode) 
        RGB_MATRIX_INDICATOR_SET_COLOR(30, 0, bright, 0);

    switch (get_highest_layer(layer_state|default_layer_state)) {
    case 1:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, 0, bright, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, 0, bright, bright);  
        break;
    case 2:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, 0, 0, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, 0, 0, bright); 
        break;
    case 3:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, 0, 0);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, 0, 0);
        break;
    case 4:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, bright, 0);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, bright, 0);
        break;
    case 5:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, 0, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, 0, bright);
        break;
    case 6:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, bright, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, bright, bright);
        break;
    case 15:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, 0, bright, 0);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, 0, bright, 0);
    default:
        break;
    }

    return false;
}

uint16_t get_quick_tap_term(uint16_t keycode, keyrecord_t *record) {
    switch (keycode) {
        case SFT_T(KC_SPC):
            return 0;  // remove autorepeat when tap and hold 
        default:
            return QUICK_TAP_TERM;
    }
}

uint16_t get_tapping_term(uint16_t keycode, keyrecord_t *record) {
    if (record->event.key.col == 3 && record->event.key.row == 4) 
        return 20;

    switch (keycode) {
        case SFT_T(KC_SPC):
            return TAPPING_TERM + 1250;
        case LT(5, KC_GRV):
            return 130;
        default:
            return TAPPING_TERM;
    }
}

void housekeeping_task_user(void) {
    if (is_alt_tab_active) {
        if (timer_elapsed(alt_tab_timer) > ALT_TAB_LIMIT) {
            unregister_code(KC_LALT);
            is_alt_tab_active = false;
        }
    }
}

td_state_t cur_dance(tap_dance_state_t *state) {
    if (state->count == 1) {
        if (state->interrupted || !state->pressed) return TD_SINGLE_TAP;
        // Key has not been interrupted, but the key is still held. Means you want to send a 'HOLD'.
        else return TD_SINGLE_HOLD;
    } else if (state->count == 2) {
        // TD_DOUBLE_SINGLE_TAP is to distinguish between typing "pepper", and actually wanting a double tap
        // action when hitting 'pp'. Suggested use case for this return value is when you want to send two
        // keystrokes of the key, and not the 'double tap' action/macro.
        if (state->interrupted) return TD_DOUBLE_SINGLE_TAP;
        else if (state->pressed) return TD_DOUBLE_HOLD;
        else return TD_DOUBLE_TAP;
    }

    // Assumes no one is trying to type the same letter three times (at least not quickly).
    // If your tap dance key is 'KC_W', and you want to type "www." quickly - then you will need to add
    // an exception here to return a 'TD_TRIPLE_SINGLE_TAP', and define that enum just like 'TD_DOUBLE_SINGLE_TAP'
    // if (state->count == 3) {
    //     if (state->interrupted || !state->pressed) return TD_TRIPLE_TAP;
    //     else return TD_TRIPLE_HOLD;
    // } else 
    return TD_UNKNOWN;
}

// Create an instance of 'td_tap_t' for the 'x' tap dance.
static td_tap_t ctrl_tap_state = {
    .is_press_action = true,
    .state = TD_NONE
};

static td_tap_t scuts_tap_state = {
    .is_press_action = true,
    .state = TD_NONE
};

static td_tap_t left_tap_state = {
    .is_press_action = true,
    .state = TD_NONE
};

static td_tap_t win_tap_state = {
    .is_press_action = true,
    .state = TD_NONE
};

void ctrl_finished(tap_dance_state_t *state, void *user_data) {
    ctrl_tap_state.state = cur_dance(state);
    switch (ctrl_tap_state.state) {
        case TD_SINGLE_TAP: 
            register_code(KC_LCTL);  
            register_code(KC_LSFT);
            break;
        case TD_SINGLE_HOLD: register_code(KC_LCTL); break;
        case TD_DOUBLE_TAP: 
            tap_code(KC_LSFT);
            register_code(KC_LSFT); 
            break;
        case TD_DOUBLE_HOLD: 
            register_code(KC_LCTL);
            register_code(KC_LSFT); 
            break;
        default: break;
    }
}

void ctrl_reset(tap_dance_state_t *state, void *user_data) {
    switch (ctrl_tap_state.state) {
        case TD_SINGLE_TAP: 
            unregister_code(KC_LSFT); 
            unregister_code(KC_LCTL);
            break;
        case TD_SINGLE_HOLD: unregister_code(KC_LCTL); break;
        case TD_DOUBLE_TAP: unregister_code(KC_LSFT); break;
        case TD_DOUBLE_HOLD: 
            unregister_code(KC_LSFT);
            unregister_code(KC_LCTL);
            break;
        default: break;
    }
    ctrl_tap_state.state = TD_NONE;
}

void scuts_finished(tap_dance_state_t *state, void *user_data) {
    scuts_tap_state.state = cur_dance(state);
    switch (scuts_tap_state.state) {
        case TD_SINGLE_TAP: 
            register_code16(KC_BTN3);  
            break;
        case TD_SINGLE_HOLD: layer_on(_SCUTS); break;
        case TD_DOUBLE_TAP: 
            tap_code16(KC_BTN3);
            register_code16(KC_BTN3); 
            break;
        case TD_DOUBLE_HOLD: 
            register_code16(KC_BTN3); 
            break;
        default: break;
    }
}
void scuts_reset(tap_dance_state_t *state, void *user_data) {
    switch (scuts_tap_state.state) {
        case TD_SINGLE_TAP: 
            unregister_code16(KC_BTN3);
            break;
        case TD_SINGLE_HOLD: layer_off(_SCUTS); break;
        case TD_DOUBLE_TAP: unregister_code16(KC_BTN3); break;
        case TD_DOUBLE_HOLD: 
            unregister_code16(KC_BTN3);
            break;
        default: break;
    }
    scuts_tap_state.state = TD_NONE;
}

void left_finished(tap_dance_state_t *state, void *user_data) {
    left_tap_state.state = cur_dance(state);
    switch (left_tap_state.state) {
        case TD_SINGLE_TAP: 
            register_code(KC_LCTL);  
            register_code(KC_LSFT);
            break;
        case TD_SINGLE_HOLD: layer_on(_LEFT); break;
        case TD_DOUBLE_TAP: break;
        case TD_DOUBLE_HOLD: layer_on(_LEFT); break; 
        default: break;
    }
}
void left_reset(tap_dance_state_t *state, void *user_data) {
    switch (left_tap_state.state) {
        case TD_SINGLE_TAP: 
            unregister_code(KC_LSFT);
            unregister_code(KC_LCTL);
            break;
        case TD_SINGLE_HOLD: layer_off(_LEFT); break;
        case TD_DOUBLE_TAP: break;
        case TD_DOUBLE_HOLD: layer_off(_LEFT); break;
        default: break;
    }
    left_tap_state.state = TD_NONE;
} 

void win_finished(tap_dance_state_t *state, void *user_data) {
    win_tap_state.state = cur_dance(state);
    switch (win_tap_state.state) {
        case TD_SINGLE_TAP: 
            register_code(KC_LCTL);  
            register_code(KC_LSFT);
            break;
        case TD_SINGLE_HOLD: register_code(KC_LWIN); break;
        case TD_DOUBLE_TAP: register_code(KC_APP); break;
        case TD_DOUBLE_HOLD: 
            register_code(KC_LCTL); 
            register_code(KC_LSFT);
            break; 
        default: break;
    }
}
void win_reset(tap_dance_state_t *state, void *user_data) {
    switch (win_tap_state.state) {
        case TD_SINGLE_TAP: 
            unregister_code(KC_LSFT);
            unregister_code(KC_LCTL);
            break;
        case TD_SINGLE_HOLD: unregister_code(KC_LWIN); break;
        case TD_DOUBLE_TAP: unregister_code(KC_APP); break;
        case TD_DOUBLE_HOLD: 
            unregister_code(KC_LSFT); 
            unregister_code(KC_LCTL);
            break;
        default: break;
    }
    win_tap_state.state = TD_NONE;
} 

tap_dance_action_t tap_dance_actions[] = {
    [ADV_CTRL] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, ctrl_finished, ctrl_reset),
    [SCUTS] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, scuts_finished, scuts_reset),
    [ADV_LEFT] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, left_finished, left_reset),
    [ADV_WIN] = ACTION_TAP_DANCE_FN_ADVANCED(NULL, win_finished, win_reset)
    };  
