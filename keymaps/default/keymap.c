// Copyright 2023 QMK
// SPDX-License-Identifier: GPL-2.0-or-later

#include QMK_KEYBOARD_H
#include "print.h"

enum custom_keycodes {
    DRAG_SCROLL = QK_KB_0,
    ARROW_H,
    ARROW_V,
    ARROW_ALL, 
    AM_TOGGLE,
    SNIP_MODE,
    SNIP_TOGGLE,
    CPI_INC,
    CPI_DEC,
    SNIP_INC,
    SNIP_DEC,
    CK_LSQB,
    CK_RSQB,
    CK_LTHN,
    CK_GTHN,
    CK_LCUR,
    CK_RCUR
};

enum unicode_names {
    LSQB,
    RSQB,
    LTHN,
    GTHN,
    LCUR,
    RCUR
};

const uint32_t PROGMEM unicode_map[] = {
    [LSQB] = 0x005B,  // [
    [RSQB] = 0x005D,  // ]
    [LTHN] = 0x003C,  // <
    [GTHN] = 0x003E,  // >
    [LCUR] = 0x007B,  // {    
    [RCUR] = 0x007D  // }
};

enum layer_names {
    _BASE = 0,
    _LEFT,
    _RIGHT,
    _GAME,
    _SCUTS,
    _L05,
    _L06,
    _L07,
    _L08,
    _L09,
    _L10,
    _L11,
    _L12,
    _L13,
    _L14,
    _MOUSE
};

#define SP_LSFT SFT_T(KC_SPC)
#define ENT_RGT LT(2, KC_ENT)
#define UNI_LBR UP(LSQB, LCUR)
#define UNI_RBR UP(RSQB, RCUR)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     `     │     1     │     2     │     3     │     4     │     5     │             │     6     │     7     │     8     │     9     │     0     │     -     │*/
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │     Q     │     W     │     E     │     R     │     T     │             │     Y     │     U     │     I     │     O     │     P     │     [     │*/
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    ESC    │     A     │     S     │     D     │     F     │     G     │             │     H     │     J     │     K     │     L     │     ;     │     '     │*/
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │  L_MOUSE  │     Z     │     X     │     C     │     V     │     B     │             │     N     │     M     │     ,     │     .     │     /     │     ]     │*/
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │    L01    │  SPC/SHF  │ CTRL+SHFT │   │  ENT/L02  │   BKSPC   │                                                     */
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │   LCTRL   │    ALT    │   │  MENU/WIN │                                                                 */
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */

    [_BASE] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     `     │     1     │     2     │     3     │     4     │     5     │             │     6     │     7     │     8     │     9     │     0     │     -     │*/  
          KC_GRV,      KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                     KC_6,       KC_7,       KC_8,       KC_9,       KC_0,      KC_MINS,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │     Q     │     W     │     E     │     R     │     T     │             │     Y     │     U     │     I     │     O     │     P     │     [     │*/        
          KC_TAB,      KC_Q,       KC_W,       KC_E,       KC_R,       KC_T,                     KC_Y,       KC_U,       KC_I,       KC_O,       KC_P,      KC_LBRC,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    ESC    │     A     │     S     │     D     │     F     │     G     │             │     H     │     J     │     K     │     L     │     ;     │     '     │*/
          KC_ESC,      KC_A,       KC_S,       KC_D,       KC_F,       KC_G,                     KC_H,       KC_J,       KC_K,       KC_L,      KC_SCLN,    KC_QUOT,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │   MOUSE   │     Z     │     X     │     C     │     V     │     B     │             │     N     │     M     │     ,     │     .     │     /     │     ]     │*/
        MO(_MOUSE),    KC_Z,       KC_X,       KC_C,       KC_V,       KC_B,                     KC_N,       KC_M,      KC_COMM,    KC_DOT,    KC_SLASH,   KC_RBRC,
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │    LEFT   │ SPC/SHIFT │ CTRL+SHFT │   │ ENT/RIGHT │   BKSPC   │                                                     */
                                                  MO(_LEFT),   SP_LSFT,  C(KC_LSFT),       ENT_RGT,    KC_BSPC,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │   LCTRL   │    ALT    │   │  MENU/WIN │                                                                 */
                                                              KC_LCTL,    KC_LALT,      GUI_T(KC_APP)
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),

    [_LEFT] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │    ESC    │     F1    │     F2    │     F3    │     F4    │     F5    │             │     F6    │     F7    │     F8    │     F9    │    F10    │    F11    │*/ 
          KC_ESC,      KC_F1,      KC_F2,      KC_F3,      KC_F4,      KC_F5,                    KC_F6,      KC_F7,      KC_F8,      KC_F9,      KC_F10,     KC_F11,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    CUT    │     |     │     (     │     +     │     )     │ CTRL+SHFT │             │    PGUP   │    HOME   │     UP    │    END    │           │    F12    │*/ 
          C(KC_X),  S(KC_BSLS),   S(KC_9),    KC_PPLS,    S(KC_0),  C(KC_LSFT),                 KC_PGUP,    KC_HOME,     KC_UP,      KC_END,     KC_NO,      KC_F12,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    COPY   │     \     │   UNI [   │     =     │   UNI ]   │    CTRL   │             │    PGDN   │    LEFT   │    DOWN   │   RIGHT   │           │           │*/
          C(KC_C),    KC_BSLS,    UNI_LBR,    KC_EQL,     UNI_LBR,    KC_LCTL,                  KC_PGDN,    KC_LEFT,    KC_DOWN,    KC_RGHT,     KC_NO,      KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │   PASTE   │    UNDO   │   UNI <   │     -     │   UNI >   │   SHIFT   │             │           │           │           │           │           │           │*/       
          C(KC_V),    C(KC_Z),   UM(LTHN),    KC_PMNS,   UM(GTHN),    KC_LSFT,                   KC_NO,      KC_NO,      KC_NO,      KC_NO,      KC_NO,      KC_NO,
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │   BKSPC   │  VOLUME+  │   │   ENTER   │   BKSPC   │                                                     */
                                                   _______,    KC_BSPC,    KC_VOLU,        KC_ENT,     KC_BSPC,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                   */
    /*                                                      │    MUTE   │  VOLUME-  │   │   SHIFT   │                                                                 */
                                                               KC_MUTE,    KC_VOLD,        KC_RSFT
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */                                                               
    ),
    [_RIGHT] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │    BOOT   │  BRIGHT+  │    SAT+   │   COLOR+  │   SPEED+  │ RGB SOLID │             │   NUM +   │   NUM 7   │   NUM 8   │   NUM 9   │  NUM LOCK │   DEBUG   │*/
          QK_BOOT,    RGB_VAI,    RGB_SAI,    RGB_HUI,    RGB_SPI,    RGB_M_P,                  KC_PPLS,     KC_P7,      KC_P8,      KC_P9,     KC_NUM,     DB_TOGG ,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ RGB MODE+ │  BRIGHT-  │    SAT-   │   COLOR-  │   SPEED-  │RGB BREATHE│             │   NUM -   │   NUM 4   │   NUM 5   │   NUM 6   │           │           │*/
         RGB_MOD,    RGB_VAD,    RGB_SAD,    RGB_HUD,    RGB_SPD,    RGB_M_B,                   KC_PMNS,     KC_P4,      KC_P5,      KC_P6,      KC_NO,      KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ RGB MODE- │     1     │     2     │     3     │     4     │     5     │             │   NUM *   │   NUM 1   │   NUM 2   │   NUM 3   │ NUM ENTER │           │*/
         RGB_RMOD,     KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                    KC_PAST,     KC_P1,      KC_P2,      KC_P3,     KC_PENT,     KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ RGB TOGGLE│     6     │     7     │     8     │     9     │     0     │             │   NUM /   │   NUM 0   │   NUM 0   │   NUM .   │ NUM ENTER │           │*/
          RGB_TOG,     KC_6,       KC_7,       KC_8,       KC_9,       KC_0,                    KC_PSLS,     KC_P0,      KC_P0,     KC_PDOT,    KC_PENT,     KC_NO,
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │   SHIFT   │   SPACE   │    DEL    │   │     ˅     │    DEL    │                                                     */
                                                  KC_LSFT,     KC_SPC,     KC_DEL,         _______,     KC_DEL,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │   LCTRL   │    ALT    │   │   ENTER   │                                                                 */
                                                               KC_LCTL,    KC_LALT,         KC_ENT
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */

    ),
    [_GAME] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │    ESC    │     1     │     2     │     3     │     4     │     5     │             │     6     │     7     │     8     │     9     │     0     │           │*/
          KC_ESC,      KC_1,       KC_2,       KC_3,       KC_4,       KC_5,                     KC_6,       KC_7,       KC_8,       KC_9,       KC_0,       KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    TAB    │    TAB    │     Q     │     W     │     E     │     R     │             │           │           │           │           │           │           │*/
          KC_TAB,     KC_TAB,      KC_Q,       KC_W,       KC_E,       KC_R,                     KC_NO,      KC_NO,      KC_NO,      KC_NO,      KC_NO,      KC_NO,        
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │   SHIFT   │   SHIFT   │     A     │     S     │     D     │     F     │             │           │           │     UP    │           │           │           │*/
          KC_LSFT,    KC_LSFT,     KC_A,       KC_S,       KC_D,       KC_F,                     KC_NO,      KC_NO,      KC_UP,      KC_NO,      KC_NO,      KC_NO,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │    CTRL   │    CTRL   │     Z     │     X     │     C     │     V     │             │           │    LEFT   │    DOWN   │   RIGHT   │           │  TOG GAME │*/
          KC_LCTL,    KC_LCTL,     KC_Z,       KC_X,       KC_C,       KC_V,                     KC_NO,     KC_LEFT,    KC_DOWN,    KC_RGHT,     KC_NO,    TG(_GAME),
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │    ALT    │   SPACE   │     =     │   │   ENTER   │   BKSPC   │                                                     */
                                                   KC_LALT,    KC_SPC,     KC_EQL,         KC_ENT,     KC_BSPC,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │           │     -     │   │           │                                                                 */
                                                                KC_NO,     KC_MINS,         KC_NO
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    
    ),
    [_SCUTS] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │ TOG SCUTS │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,  TG(_SCUTS),
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L05] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L05  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L05), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L06] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L06  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L06), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L07] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L07  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L07), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L08] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L08  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L08), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L09] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L09  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L09), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L10] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L10  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L10), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L11] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L11  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L11), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L12] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L12  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L12), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L13] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L13  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L13), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [_L14] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/         
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │  TOG L14  │*/
          _______,    _______,    _______,    _______,    _______,    _______,                  _______,    _______,    _______,    _______,    _______,   TG(_L14), 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │     ˅     │     ˅     │     ˅     │   │     ˅     │     ˅     │                                                     */
                                                   _______,    _______,    _______,        _______,    _______,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │     ˅     │     ˅     │   │     ˅     │                                                                 */
                                                               _______,    _______,        _______
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
    [15] = LAYOUT_main(
    /* ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐             ┌───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │  SNIPER+  │    CPI+   │             │ TOG GAME  │  TOG L05  │  TOG L06  │  TOG L07  │  TOG L08  │     ˅     │*/
          _______,    _______,    _______,    _______,   SNIP_INC,    CPI_INC,                 TG(_GAME),  TG(_L05),   TG(_L06),   TG(_L07),   TG(_L08),    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │     ˅     │     ˅     │     ˅     │     ˅     │  SNIPER-  │    CPI-   │             │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │     ˅     │*/
          _______,    _______,    _______,    _______,   SNIP_DEC,    CPI_DEC,                  _______,    _______,    _______,    _______,    _______,    _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ TOG SNIPER│     ˅     │    CTRL   │   SHIFT   │   ARROW   │     ˅     │             │     ˅     │ MOUSE LEFT│MOUSE RIGHT│ MOUSE MID │   SCROLL  │     ˅     │*/         
        SNIP_TOGGLE,  _______,    KC_LCTL,    KC_LSFT,   ARROW_ALL,   _______,                  _______,    KC_BTN1,    KC_BTN2,    KC_BTN3,  DRAG_SCROLL,  _______,
    /* ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤             ├───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤*/
    /* │ SNIPER ON │     ˅     │     ˅     │     ˅     │ HOR ARROW │ VER ARROW │             │     ˅     │ MOUSE LEFT│MOUSE RIGHT│ MOUSE MID │   SCROLL  │   SCROLL  │*/
         SNIP_MODE,   _______,    _______,    _______,    ARROW_H,    ARROW_V,                  _______,    KC_BTN1,    KC_BTN2,    KC_BTN3,  DRAG_SCROLL,DRAG_SCROLL, 
    /* └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘             └───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘*/
    /*                                          ┌───────────┬───────────┬───────────┐   ┌───────────┬───────────┐                                                     */
    /*                                          │   SCROLL  │ MOUSE LEFT│MOUSE RIGHT│   │     ˅     │    DEL    │                                                     */
                                                 DRAG_SCROLL,  KC_BTN1,    KC_BTN2,        _______,    KC_DEL,
    /*                                          └───────────┼───────────┼───────────┤   ├───────────┼───────────┘                                                     */
    /*                                                      │    CTRL   │ MOUSE MID │   │ AUTO MOUSE│                                                                 */
                                                               KC_LCTL,    KC_BTN3,       AM_TOGGLE
    /*                                                      └───────────┴───────────┘   └───────────┘                                                                 */
    ),
};

bool scroll_mode = false;
bool hor_arrow_mode = false;
bool ver_arrow_mode = false;
bool all_arrow_mode = false;
bool sniper_mode = false;
bool auto_mouse_tg_on = true;
bool auto_mouse_off_by_layer = false;


// Modify these values to adjust the scrolling speed
#define SCROLL_DIVISOR_H 64.0
#define SCROLL_DIVISOR_V 64.0
#define ARROW_TRIGGER_H 50
#define ARROW_TRIGGER_V 100

// Variables to store accumulated scroll values
float scroll_accum_h = 0;
float scroll_accum_v = 0;
int16_t arrow_accum_h = 0;
int16_t arrow_accum_v = 0;

uint16_t curr_cpi = 20;
uint16_t snip_cpi = 10;

void set_current_cpi(void) {
    //uint16_t real_cpi = 100 * curr_cpi;
    //if (pointing_device_get_cpi() != curr_cpi)
    //    pointing_device_set_cpi(real_cpi);
}

void set_sniper_cpi(void) {
    //uint16_t sni_cpi = 100 * snip_cpi;
    //if (pointing_device_get_cpi() != sni_cpi)
    //    pointing_device_set_cpi(sni_cpi);
}

void set_common_cpi(void) {
    // if (sniper_mode) 
    //     set_sniper_cpi();  
    // else
    //     set_current_cpi();
}

void activate_hor_arrow_mode(void) {
    //pointing_device_set_cpi(2000);
    hor_arrow_mode = true;
}

void deactivate_hor_arrow_mode(void) {
    set_common_cpi();
    hor_arrow_mode = false;
    arrow_accum_h = 0;
}

void activate_ver_arrow_mode(void) {
    // pointing_device_set_cpi(2000);
    ver_arrow_mode = true;
}

void deactivate_ver_arrow_mode(void) {
    set_common_cpi();
    ver_arrow_mode = false;
    arrow_accum_v = 0;
}

void activate_all_arrow_mode(void) {
    //pointing_device_set_cpi(2000);
    all_arrow_mode = true;
}

void deactivate_all_arrow_mode(void) {
    set_common_cpi();
    all_arrow_mode = false;
    arrow_accum_h = 0;
    arrow_accum_v = 0;
}

void activate_scroll_mode(void) {
    //pointing_device_set_cpi(1000);
    scroll_mode = true;
}

void deactivate_scroll_mode(void) {
    set_common_cpi();
    scroll_mode = false;
}

void handle_drag_scroll(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!scroll_mode)
            activate_scroll_mode();
    } 
    else 
        deactivate_scroll_mode();
}

void handle_hor_arrow(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!hor_arrow_mode) 
            activate_hor_arrow_mode();
    } 
    else
        deactivate_hor_arrow_mode();  
}

void handle_ver_arrow(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!ver_arrow_mode)
            activate_ver_arrow_mode();
    } 
    else 
        deactivate_ver_arrow_mode();
}

void handle_all_arrow(keyrecord_t *record) {
    if (record->event.pressed) {
        if (!all_arrow_mode) 
            activate_all_arrow_mode();
    }
    else
        deactivate_all_arrow_mode();
}

void handle_sniper_mode(keyrecord_t *record) {
    if (record->event.pressed) {
        sniper_mode = true;
        set_common_cpi();
    } else {
        sniper_mode = false;
        set_common_cpi();
    }
}

void handle_sniper_toggle(keyrecord_t *record) {
    if (record->event.pressed) {
        sniper_mode = !sniper_mode;
        set_common_cpi();
    }
}

void handle_increase_mouse_speed(void) {
    curr_cpi += 2;
    if (curr_cpi > 120)
        curr_cpi = 120;
    set_common_cpi();
}

void handle_decrease_mouse_speed(void) {
    curr_cpi -= 2;
    if (curr_cpi < 2)
        curr_cpi = 2;
    if (snip_cpi > curr_cpi)
        snip_cpi = curr_cpi;
    set_common_cpi();
}

void handle_increase_sniper_speed(void) {
    snip_cpi += 1;
    if (snip_cpi > curr_cpi)
        snip_cpi = curr_cpi;
    set_common_cpi();
}

void handle_decrease_sniper_speed(void) {
    snip_cpi -= 1;
    if (snip_cpi < 2)
        snip_cpi = 2;
    set_common_cpi();
}

void handle_auto_mouse_toggle(void) {
    if (auto_mouse_off_by_layer) 
        return;
    auto_mouse_layer_off(); // disable target layer if needed
    set_auto_mouse_enable((AUTO_MOUSE_ENABLED) ^ 1);
    auto_mouse_tg_on = !auto_mouse_tg_on;
}

int16_t move_horizontally(int16_t accum) {
    int16_t offset = accum;

    while (offset >= ARROW_TRIGGER_H)
    {
        offset -= ARROW_TRIGGER_H;
        tap_code(KC_RGHT);
    }

    while (offset <= -ARROW_TRIGGER_H)
    {
        offset += ARROW_TRIGGER_H;
        tap_code(KC_LEFT);
    }

    return offset;    
} 

int16_t move_vertically(int16_t accum) {
    int16_t m_offset = accum;

    while (m_offset >= ARROW_TRIGGER_V)
    {
        m_offset -=  ARROW_TRIGGER_V;
        tap_code(KC_DOWN);
    }

    while (m_offset <= -ARROW_TRIGGER_V) 
    {
        m_offset += ARROW_TRIGGER_V;
        tap_code(KC_UP);
    }

    return m_offset;   
}

// Function to handle mouse reports and perform drag scrolling
report_mouse_t pointing_device_task_user(report_mouse_t mouse_report) {
    // Check if drag scrolling is active
    if (scroll_mode) {
        // Calculate and accumulate scroll values based on mouse movement and divisors
        //scroll_accum_h += (float)mouse_report.x / SCROLL_DIVISOR_H;
        scroll_accum_v += (float)mouse_report.y / SCROLL_DIVISOR_V;

        // Assign integer parts of accumulated scroll values to the mouse report
        //mouse_report.h = -(int8_t)scroll_accum_h;
        mouse_report.v = (int8_t)scroll_accum_v;

        // Update accumulated scroll values by subtracting the integer parts
        // scroll_accum_h += (int8_t)scroll_accum_h;
        scroll_accum_v -= (int8_t)scroll_accum_v;

        // Clear the X and Y values of the mouse report
        mouse_report.x = 0;
        mouse_report.y = 0;
    };
    if (hor_arrow_mode) {
        
        arrow_accum_h += mouse_report.x;

        arrow_accum_h = move_horizontally(arrow_accum_h);

        mouse_report.x = 0;
        mouse_report.y = 0;
    };
    
    if (ver_arrow_mode) {
        arrow_accum_v += mouse_report.y;
        
        arrow_accum_v = move_vertically(arrow_accum_v);
        
        mouse_report.x = 0;
        mouse_report.y = 0;
    }
    
    if (all_arrow_mode) {
        arrow_accum_h += mouse_report.x;
        arrow_accum_v += mouse_report.y;

        arrow_accum_h = move_horizontally(arrow_accum_h);
        arrow_accum_v = move_vertically(arrow_accum_v);
        
        mouse_report.x = 0;
        mouse_report.y = 0;
    }
    return mouse_report;
}

// Function to handle key events and enable/disable drag scrolling
bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    #ifdef CONSOLE_ENABLE
        uprintf("KL: kc: 0x%04X, col: %2u, row: %2u, pressed: %u, time: %5u, int: %u, count: %u\n", keycode, record->event.key.col, record->event.key.row, record->event.pressed, record->event.time, record->tap.interrupted, record->tap.count);
    #endif 
    switch (keycode) {
        case SNIP_MODE:
            handle_sniper_mode(record);
            return false;
        case SNIP_TOGGLE:
            handle_sniper_toggle(record);
            return false;
        case DRAG_SCROLL:
            // Toggle set_scrolling when DRAG_SCROLL key is pressed or released
            handle_drag_scroll(record);
            break;
        case ARROW_H:
            handle_hor_arrow(record);
            break;
        case ARROW_V:
            handle_ver_arrow(record);
            break;
        case ARROW_ALL:
            all_arrow_mode = record->event.pressed;
            break;
        case AM_TOGGLE:
            if (record->event.pressed)
                handle_auto_mouse_toggle();
            return false; // prevent further processing of keycode
        case CPI_INC:
            if (record->event.pressed) 
                handle_increase_mouse_speed();
            break;
        case CPI_DEC:
            if (record->event.pressed)
                handle_decrease_mouse_speed();
            break;
        case CK_LSQB:
            if (!record->event.pressed)
                tap_code16(LSQB);
            break;
        case CK_RSQB:
            if (!record->event.pressed)
                tap_code16(RSQB);
            break;
        case CK_LTHN:
            if (!record->event.pressed)
                tap_code16(LTHN);
            break;
        case CK_GTHN:
            if (!record->event.pressed)
                tap_code16(GTHN);
            break;
        case CK_LCUR:
            if (!record->event.pressed)
                tap_code16(LCUR);
            break;
        case CK_RCUR:
            if (!record->event.pressed)
                tap_code16(RCUR);
            break;
        default:
            break;
    }
    return true;
}

layer_state_t layer_state_set_user(layer_state_t state) {
    switch (get_highest_layer(state)) {
        case _LEFT:  // If we're on the left layer enable scrolling mode
            uprint("Layer 1 is highest");
            if (!scroll_mode)
                activate_scroll_mode();
            if (auto_mouse_tg_on) {
                state = remove_auto_mouse_layer(state, false);
                set_auto_mouse_enable(false); 
                auto_mouse_tg_on = false;
                auto_mouse_off_by_layer = true;
            }
            //auto_mouse_off_by_layer = true;
            break;
        case _MOUSE:
            break;
        default:
            if (scroll_mode)
                deactivate_scroll_mode();
            if (auto_mouse_off_by_layer) {
                set_auto_mouse_enable(true);
                auto_mouse_tg_on = true;
                auto_mouse_off_by_layer = false;
            }
            break;
    }
    return state;
}

void pointing_device_init_user(void) {
    set_auto_mouse_enable(auto_mouse_tg_on);
    set_current_cpi();
}

bool is_mouse_record_user(uint16_t keycode, keyrecord_t* record) {
    switch(keycode) {
        case DRAG_SCROLL:
            return true;
        case ARROW_H:
            return true;
        case ARROW_V:
            return true;
        case ARROW_ALL:
            return true;
        case SNIP_MODE:
            return true;
        case CPI_INC:
            return true;
        case CPI_DEC:
            return true;
        default:
            return false;
    }
    return false;
}

bool rgb_matrix_indicators_advanced_user(uint8_t led_min, uint8_t led_max) {

    uint8_t bright = rgb_matrix_get_val();

    if (!auto_mouse_tg_on)
        RGB_MATRIX_INDICATOR_SET_COLOR(31, bright, 0, 0);

    if (sniper_mode) 
        RGB_MATRIX_INDICATOR_SET_COLOR(30, 0, bright, 0);

    switch (get_highest_layer(layer_state|default_layer_state)) {
    case 1:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, 0, bright, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, 0, bright, bright);  
        break;
    case 2:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, 0, 0, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, 0, 0, bright); 
        break;
    case 3:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, 0, 0);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, 0, 0);
        break;
    case 4:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, bright, 0);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, bright, 0);
        break;
    case 5:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, 0, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, 0, bright);
        break;
    case 6:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, bright, bright, bright);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, bright, bright, bright);
        break;
    case 15:
        RGB_MATRIX_INDICATOR_SET_COLOR(1, 0, bright, 0);
        RGB_MATRIX_INDICATOR_SET_COLOR(29, 0, bright, 0);
    default:
        break;
    }

    return false;
}

uint16_t get_quick_tap_term(uint16_t keycode, keyrecord_t *record) {
    switch (keycode) {
        case SFT_T(KC_SPC):
            return 0;
        default:
            return QUICK_TAP_TERM;
    }
}